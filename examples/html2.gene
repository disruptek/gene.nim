#!/usr/bin/env gene

(import genex/html/tags/*)

(var doc (HTML
  (HEAD
    (TITLE "Test HTML")
  )
  (BODY
    (HEADER ^style {^font-size 22}
      "This is the header section"
    )
    (DIV ^style {^font-size 10}
      "First section"
    )
  )
))

(fn style [^styles]
  (fnx matched
    (println "TODO: add styles to matched element: " (matched .to_s))
  )
)

(var css (@*
  (@ :BODY >> (style ^line-height 1.5))
))

# Apply css to doc: (css doc)
(println ((eval (css doc)).to_s))
