#!/usr/bin/env gene

(fn ^^async f a
  (await (gene/sleep_async 2500))
  (println a)     # Should appear between 2 & 3
)
(await (f "first"))
(f "second")
(println 0)
(gene/sleep 1000)
(println 1)
(gene/sleep 1000)
(println 2)
(gene/sleep 1000)
(println 3)

#< Output should look like
first
0
1
2
second
3
#>#
